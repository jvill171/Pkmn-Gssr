{% extends 'base.html' %}

{% block content %}
<div class="container text-center">
    <div class="row">
        <h1 class="my-3">Who's that Pokemon</h1>
    </div>
    <form action="/random-pokemon" method="GET">
        <button id="new-game-btn" class="btn btn-lg btn-primary mb-3">New Game</button>
    </form>
    <div class="row">
        <p class="fs-4 text-warning">Guesses: <span class="score">0</span> / <span class="score-limit">15</span></p>
        <p class="end-status fs-4 hidden-item">Victory!</p>
    </div>

    {% block altGame %}{% endblock%}
    <!-- Hidden list of all pokemon -->
    <section id="all-pkmn" class="hidden-item">
        <ul>
            {% for p in pkmn %}
                <li>{{p}}</li>
            {% endfor %}
        </ul>
    </section>

    <div id="load-msg" class="row hidden-item">
        <p>Selecting Random Pokemon . . .</p>
    </div>

    <div id="game" class="row">
        <div class="row"><p id="non-poke-warn" class="hidden-item">Not a pokemon!</p></div>

        <form id="guess-form" class="row pb-2" autocomplete="off">
            <div class="d-flex flex-column">
                <div>
                    <input class="border-0 rounded-5 p-2" type="text" name="pkmn-guess" id="pkmn-guess" placeholder="Its ..." style>
                    <div class="suggestions">
                        <ul>
                        </ul>
                    </div>
                </div>
                <div>
                    <button class="btn btn-light rounded-0 rounded-5 p-2" id="guess-btn">Submit</button>
                </div>
            </div>
        </form>
        <hr>
        <button class="btn w-100 btn-dark mb-1" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-ref-sheet" aria-expanded="true" aria-controls="collapse-ref-sheet">
            Reference
        </button>
        <div class="collapse.show collapse show" id="collapse-ref-sheet">
            <div class="reference-data ">
                <div class="row">
                    <p class="m-0 py-1 h6 bg-danger-subtle text-dark rounded-top"><i class="fa-solid fa-timeline"> Generation</i></p>
                    <ul class="pkmn-gens bg-light-subtle py-1 rounded-bottom"></ul>
                </div>
                <div class="row">
                    <p class="m-0 py-1 h6 bg-danger-subtle text-dark rounded-top"><i class="fa-solid fa-leaf"> Type</i></p>
                    <ul class="pkmn-types bg-light-subtle py-1 rounded-bottom"></ul>
                </div>
                <div class="row">
                    <p class="m-0 py-1 h6 bg-danger-subtle text-dark rounded-top"><i class="fa-solid fa-shapes"> Shape</i></p>
                    <ul class="pkmn-shapes bg-light-subtle py-1 rounded-bottom"></ul>
                </div>
                <div class="row">
                    <p class="m-0 py-1 h6 bg-danger-subtle text-dark rounded-top"><i class="fa-solid fa-palette"> Color</i></p>
                    <ul class="pkmn-colors bg-light-subtle py-1 rounded-bottom"></ul>
                </div>
                <div class="row">
                    <p class="m-0 py-1 h6 bg-danger-subtle text-dark rounded-top"><i class="fa-solid fa-egg"> Egg Group</i></p>
                    <ul class="pkmn-eggs bg-light-subtle py-1 rounded-bottom"></ul>
                </div>
            </div>
        </div>  
        <hr>
        
        <div class="row">
            <table id="guess-table">
                <thead>
                    <th>Name</th>
                    <th>Image</th>
                    <th>Gen</th>
                    <th>Egg 1</th>
                    <th>Egg 2</th>
                    <th>Color</th>
                    <th>Shape</th>
                    <th>Type 1</th>
                    <th>Type 2</th>
                </thead>
                <tbody class="all-guesses"></tbody>
            </table>
        </div>
    </div>

</div>
{% endblock %}

{% block scripts %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.4.0/axios.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.js"></script>
<script src='static/game-search.js'></script>
<script src='static/game-icons.js'></script>
<script src='static/game.js'></script>
{% block timerScript %}{% endblock %}

{% endblock %}